{"ast":null,"code":"var __jsx = React.createElement;\nimport { Component } from 'react';\nimport * as React from 'react';\nimport { connect } from 'react-redux'; // @ts-ignore\n\nimport { Router } from '@routes';\nexport function Auth(WrappedComponent) {\n  var _dec, _class;\n\n  // @ts-ignore\n  let Index = (_dec = connect(state => ({\n    auth: state.auth.auth,\n    isLogin: state.auth.auth != null\n  })), _dec(_class = class Index extends Component {\n    static async getInitialProps(ctx) {\n      const store = ctx.store.getState();\n\n      if (!store.auth.isLogin) {\n        if (ctx.res) {\n          ctx.res.writeHead(302, {\n            Location: '/login'\n          });\n          return ctx.res.end();\n        }\n\n        Router.pushRoute('/login');\n        return;\n      }\n\n      return WrappedComponent.getInitialProps && (await WrappedComponent.getInitialProps(ctx));\n    }\n\n    constructor(props) {\n      super(props);\n    }\n\n    componentDidMount() {\n      if (!this.props.isLogin) {\n        Router.pushRoute('/login');\n      }\n    }\n\n    render() {\n      if (this.props.isLogin) {\n        return __jsx(WrappedComponent, this.props);\n      }\n\n      return null; // return <Login/>\n    }\n\n  }) || _class);\n  return Index;\n}","map":{"version":3,"sources":["/Users/rafaelgonzalezmunoz/IdeaProjects/dashboard-cruds/Framework/hoc/Auth.tsx"],"names":["Component","React","connect","Router","Auth","WrappedComponent","Index","state","auth","isLogin","getInitialProps","ctx","store","getState","res","writeHead","Location","end","pushRoute","constructor","props","componentDidMount","render"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB,C,CACA;;AACA,SAASC,MAAT,QAAuB,SAAvB;AAEA,OAAO,SAASC,IAAT,CAAcC,gBAAd,EAAgC;AAAA;;AACvC;AADuC,MAM7BC,KAN6B,WAElCJ,OAAO,CAAEK,KAAD,KAAiB;AACtBC,IAAAA,IAAI,EAAED,KAAK,CAACC,IAAN,CAAWA,IADK;AAEtBC,IAAAA,OAAO,EAAEF,KAAK,CAACC,IAAN,CAAWA,IAAX,IAAmB;AAFN,GAAjB,CAAD,CAF2B,gBAEnC,MAIMF,KAJN,SAIoBN,SAJpB,CAOG;AACC,iBAAaU,eAAb,CAA6BC,GAA7B,EAAkC;AAC9B,YAAMC,KAAK,GAAGD,GAAG,CAACC,KAAJ,CAAUC,QAAV,EAAd;;AACA,UAAI,CAACD,KAAK,CAACJ,IAAN,CAAWC,OAAhB,EAAyB;AACrB,YAAIE,GAAG,CAACG,GAAR,EAAa;AACTH,UAAAA,GAAG,CAACG,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAACC,YAAAA,QAAQ,EAAE;AAAX,WAAvB;AACA,iBAAOL,GAAG,CAACG,GAAJ,CAAQG,GAAR,EAAP;AACH;;AACDd,QAAAA,MAAM,CAACe,SAAP,CAAiB,QAAjB;AACA;AACH;;AACD,aAAOb,gBAAgB,CAACK,eAAjB,KAAqC,MAAML,gBAAgB,CAACK,eAAjB,CAAiCC,GAAjC,CAA3C,CAAP;AACH;;AAEDQ,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,YAAMA,KAAN;AACH;;AAEDC,IAAAA,iBAAiB,GAAG;AAChB,UAAI,CAAC,KAAKD,KAAL,CAAWX,OAAhB,EAAyB;AACrBN,QAAAA,MAAM,CAACe,SAAP,CAAiB,QAAjB;AACH;AACJ;;AAEDI,IAAAA,MAAM,GAAG;AACL,UAAI,KAAKF,KAAL,CAAWX,OAAf,EAAwB;AACpB,eAAO,MAAC,gBAAD,EAAsB,KAAKW,KAA3B,CAAP;AACH;;AACD,aAAO,IAAP,CAJK,CAKL;AACH;;AA9BF,GATgC;AA0CnC,SAAOd,KAAP;AACH","sourcesContent":["import { Component } from 'react';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\n// @ts-ignore\nimport { Router } from '@routes';\n\nexport function Auth(WrappedComponent) {\n// @ts-ignore\n    @connect((state: any) => ({\n        auth: state.auth.auth,\n        isLogin: state.auth.auth != null,\n    }))\n    class Index extends Component<{\n        isLogin: boolean;\n        auth: any;\n    }> {\n        static async getInitialProps(ctx) {\n            const store = ctx.store.getState();\n            if (!store.auth.isLogin) {\n                if (ctx.res) {\n                    ctx.res.writeHead(302, {Location: '/login'});\n                    return ctx.res.end();\n                }\n                Router.pushRoute('/login');\n                return;\n            }\n            return WrappedComponent.getInitialProps && (await WrappedComponent.getInitialProps(ctx));\n        }\n\n        constructor(props) {\n            super(props);\n        }\n\n        componentDidMount() {\n            if (!this.props.isLogin) {\n                Router.pushRoute('/login');\n            }\n        }\n\n        render() {\n            if (this.props.isLogin) {\n                return <WrappedComponent {...this.props} />;\n            }\n            return null;\n            // return <Login/>\n        }\n    }\n\n    return Index;\n}\n"]},"metadata":{},"sourceType":"module"}